<c-col xs="12">
    <c-card class="mb-4">
        <c-card-header>
            <strong>Calendario académico</strong> &nbsp; <small>Módulo para gestión de los procesos administrativos y
                sus fechas correspondientes</small>
        </c-card-header>
        <c-card-body>
            <div *ngIf="hayResultadosProcesos">
                <table mat-table [dataSource]="Procesos" [hover]="true" [responsive]="true" [striped]="true"
                    align="middle" cTable class="mb-0 border" cTable>
                    <ng-container matColumnDef="estatus">
                        <th class="det-ancho" mat-header-cell *matHeaderCellDef> Estatus </th>
                        <td class="det-ancho" mat-cell *matCellDef="let calendar">
                            <div class="container" cTooltip="{{calendar.estatus}}" cTooltipPlacement="top" align="left">
                                <svg *ngIf="calendar.estatus == 'ACTIVO'" cIcon width="30" height="30" name="cilLoopCircular" style="color: #2eb85c;" ></svg>
                                <svg *ngIf="calendar.estatus == 'FINALIZADO'" cIcon width="30" height="30" name="cilLockLocked" style="color: orangered;"></svg>
                                <svg *ngIf="calendar.estatus == 'NO INICIADO'" cIcon width="30" height="30" name="cilClock" style="color: #f9b115;"></svg>
                              </div>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="periodo">
                        <th class="det-ancho" mat-header-cell *matHeaderCellDef> Periodo </th>
                        <td class="det-ancho" mat-cell *matCellDef="let calendar"> {{calendar.periodo}} </td>
                    </ng-container>
                    <ng-container matColumnDef="periodicidad">
                        <th class="det-ancho" mat-header-cell *matHeaderCellDef> Periodicidad </th>
                        <td class="det-ancho" mat-cell *matCellDef="let calendar"> {{calendar.periodicidad}} </td>
                    </ng-container>
                    <ng-container matColumnDef="proceso">
                        <th mat-header-cell *matHeaderCellDef> Nombre proceso </th>
                        <td mat-cell *matCellDef="let calendar"> {{calendar.proceso}} </td>
                    </ng-container>
                    <ng-container matColumnDef="fec_ini">
                        <th mat-header-cell *matHeaderCellDef> Fecha desde </th>
                        <td mat-cell *matCellDef="let calendar"> {{calendar.fec_ini_view}} </td>
                    </ng-container>
                    <ng-container matColumnDef="fec_fin">
                        <th mat-header-cell *matHeaderCellDef> Fecha hasta </th>
                        <td mat-cell *matCellDef="let calendar"> {{calendar.fec_fin_view}} </td>
                    </ng-container>
                    <ng-container matColumnDef="gestion">
                        <th mat-header-cell *matHeaderCellDef> Gestionar </th>
                        <td mat-cell *matCellDef="let calendar">
                            <div>
                                <button cButton class="btn-primary" data-toggle="modal" (click)="openEditModal(calendar)">
                                    <svg cIcon name="cil-pencil"></svg></button>
                            </div>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsProcesos"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsProcesos;"></tr>
                </table>

            </div>
            <div *ngIf="sinResultadosProcesos">
                <c-alert color="danger" class="d-flex align-items-center">
                    <svg cIcon class="me-2" width="24" height="24" name="cilXCircle"></svg>
                    <div>No existen procesos administrativos cargados </div>
                </c-alert>
            </div>
            <mat-paginator [hidePageSize]="true" [pageSize]="5" #paginatorProcesos></mat-paginator>
        </c-card-body>
    </c-card>
</c-col>

<c-col xs="12">
    <c-card class="mb-4">
        <c-card-header>
            <strong>Procesos de Carga de Calificaciones</strong> &nbsp; <button cButton color="primary" type="submit" size="sm" (click)="abrirModalNuevoProceso()" > <svg cIcon class="me-2" name="cilPlaylistAdd"></svg>&nbsp;Crear Nuevo Proceso de Carga</button>
        </c-card-header>
        <c-card-body>
            <div *ngIf="hayResultadosProcesos">
                <table mat-table [dataSource]="ProcesoCargaCalificaciones" [hover]="true" [responsive]="true" [striped]="true"
                    align="middle" cTable class="mb-0 border" cTable>

                    <ng-container matColumnDef="periodo">
                        <th mat-header-cell *matHeaderCellDef> Periodo </th>
                        <td mat-cell *matCellDef="let calendar"> {{calendar.periodo}} </td>
                    </ng-container>
                    <ng-container matColumnDef="fec_ini">
                        <th mat-header-cell *matHeaderCellDef> Fecha desde </th>
                        <td mat-cell *matCellDef="let calendar"> {{calendar.fecha_inicio}} </td>
                    </ng-container>
                    <ng-container matColumnDef="fec_fin">
                        <th mat-header-cell *matHeaderCellDef> Fecha hasta </th>
                        <td mat-cell *matCellDef="let calendar"> {{calendar.fecha_fin}} </td>
                    </ng-container>

                    <ng-container matColumnDef="exclusiones">
                        <th mat-header-cell *matHeaderCellDef> Exclusiones </th>
                        <td mat-cell *matCellDef="let calendar"> <div *ngFor="let exclusion of calendar.exclusiones">
                            {{ exclusion }}
                          </div> </td>
                      </ng-container>

                      <ng-container matColumnDef="gestion">
                        <th mat-header-cell *matHeaderCellDef> Gestionar </th>
                        <td mat-cell *matCellDef="let calendar">
                            <div>
                                <button cButton class="btn-primary" data-toggle="modal" (click)="openEditModal(calendar)">
                                    <svg cIcon name="cil-pencil"></svg></button>
                            </div>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsProcesoCargaCalificaciones"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsProcesoCargaCalificaciones;"></tr>
                </table>

            </div>
            <div *ngIf="sinResultadosProcesos">
                <c-alert color="danger" class="d-flex align-items-center">
                    <svg cIcon class="me-2" width="24" height="24" name="cilXCircle"></svg>
                    <div>No existen procesos administrativos cargados </div>
                </c-alert>
            </div>
        </c-card-body>
    </c-card>
</c-col>

<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-atom">
    <p style="color: white" align="center">Por favor espere... <br>¡Validando información!</p>
</ngx-spinner>