<c-header>
    <c-container fluid>
      <c-sidebar-brand [brandFull]="{
          src: 'assets/img/brand/footer-unetrans.png',
          width: 200,
          height: 65,
          alt: 'UNETRANS Logo'
        }" [brandNarrow]="{
          src: 'assets/img/brand/logo_circular_unetrans.png',
          width: 50,
          height: 50,
          alt: 'UNETRANS Logo'
        }" routerLink="./">
      </c-sidebar-brand>
      <c-header-nav class="d-lg-flex me-auto">
        <c-nav-item>
          <a cNavLink>
            MÃ³dulo de verificaciÃ³n
          </a>
        </c-nav-item>
      </c-header-nav>
  
      <c-header-nav class="d-lg-flex">
        <a cNavLink>
          ValidaciÃ³n en lÃ­nea de documentos
        </a>
      </c-header-nav>
    </c-container>
</c-header>

<br>

<c-row class="estadisticas-container">
    <c-col xs>
      <c-card class="mb-4">
        <c-card-header>VerificaciÃ³n de Certificados</c-card-header>
        <c-card-body> 
          <div>
            <h2>ğŸ“ CertificaciÃ³n UNETRANS</h2>            

            <!-- Si el certificado es vÃ¡lido -->
            <div *ngIf="datosCertificado; else errorTemplate">
              <h3 style="color: green;">âœ”ï¸ Certificado VÃ¡lido</h3>

              <p><strong>ğŸ“„ NÃºmero de CertificaciÃ³n:</strong> {{ datosCertificado.id_certificacion }}</p>
              <p><strong>ğŸ‘¤ Nombre del Estudiante:</strong> {{ datosCertificado.nombre_estudiante }}</p>
              <p><strong>ğŸ“ TÃ­tulo Otorgado:</strong> {{ datosCertificado.titulo }}</p>
              <p><strong>ğŸ“… Fecha de EmisiÃ³n:</strong> {{ datosCertificado.generado }}</p>
              <p *ngIf="datosCertificado.fecha_expiracion"><strong>ğŸ“… Fecha de ExpiraciÃ³n:</strong> {{ datosCertificado.fecha_expiracion }}</p>

              <!-- VerificaciÃ³n del cÃ³digo QR -->
              <p><strong>ğŸ”’ QR Verificado:</strong> Escaneado y validado correctamente</p>

              <!-- Firma digital y seguridad -->
              <p><strong>ğŸ–‹ï¸ Firma Digital:</strong> Firma del emisor validada y autÃ©ntica</p>
              <p><strong>ğŸ›¡ï¸ Integridad:</strong> Documento no modificado desde su emisiÃ³n</p>

              <!-- InformaciÃ³n del emisor -->
              <p><strong>ğŸ“œ Emitido por:</strong> {{ datosCertificado.emisor }} - {{ datosCertificado.cargo }}</p>

              <!-- Registro de auditorÃ­a -->
              <p><strong>ğŸ“‹ AuditorÃ­a:</strong> Validado en {{ currentDate | date:'short' }}. Registro de esta validaciÃ³n guardado.</p>

              <!-- CÃ³digo de verificaciÃ³n Ãºnico -->
              <p><strong>ğŸ”‘ CÃ³digo de VerificaciÃ³n Ãšnico:</strong> {{ datosCertificado.codigo_verificacion }}</p>

            </div>

            <!-- Si el certificado es invÃ¡lido o no encontrado -->
            <ng-template #errorTemplate>
              <h3 style="color: red;">âŒ Certificado No VÃ¡lido</h3>
              <p>âš ï¸ El documento que intentas validar no se encuentra en nuestra base de datos.</p>
            </ng-template>
          </div>
        </c-card-body>
      </c-card>
    </c-col>
</c-row>

<!-- Spinner para indicar que se estÃ¡ procesando -->
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-atom">
  <p style="color: white" align="center">Por favor espere... <br>Â¡Verificando informaciÃ³n! â³</p>
</ngx-spinner>
