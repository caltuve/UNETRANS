<c-col xs="12">
  <c-card class="mb-4">
      <c-card-header>
          <strong>Gestión del plan de estudios</strong> &nbsp; <small>Módulo para gestión de planes de estudio</small>
      </c-card-header>
      <c-card-body>
          <div *ngIf="hayResultadosPlanes" >
              <div class="instrucciones-tabla">
                  <p>
                    <svg cIcon name="cil-info" class="me-2"></svg>
                    Planes de estudio asociados al programa de: <strong>{{ nomPro }}</strong>
                  </p>
                </div>
              <table mat-table [dataSource]="planesEstudio" [hover]="true" [responsive]="true" [striped]="true"
              align="middle" cTable class="mb-0 border" cTable>
          <!-- Columnas adicionales aquí -->
          <ng-container matColumnDef="codigoPlan">
              <th mat-header-cell *matHeaderCellDef> Cód. </th>
              <td mat-cell *matCellDef="let plan">{{ plan.cod_plan }}</td>
          </ng-container>

          <ng-container matColumnDef="regimen">
            <th mat-header-cell *matHeaderCellDef> Rég. </th>
            <td mat-cell *matCellDef="let plan">{{ plan.regimen }}</td>
        </ng-container>

        <ng-container matColumnDef="tipo">
          <th mat-header-cell *matHeaderCellDef> Tipo </th>
          <td mat-cell *matCellDef="let plan">{{ plan.tipo_plan }}</td>
      </ng-container>

      <ng-container matColumnDef="afilia">
        <th mat-header-cell *matHeaderCellDef> Afil. </th>
        <td mat-cell *matCellDef="let plan">{{ plan.afiliacion }}</td>
    </ng-container>

          <!-- Columna existente -->
          <ng-container matColumnDef="nombrePlan">
              <th mat-header-cell *matHeaderCellDef> Nombre del Plan </th>
              <td mat-cell *matCellDef="let plan">{{ plan.nombre_plan }}
              </td>
          </ng-container>

          <!-- Columna existente -->
          <ng-container matColumnDef="estatus">
              <th mat-header-cell *matHeaderCellDef> Estatus </th>
              <td mat-cell *matCellDef="let plan">{{ plan.estatus }}
              </td>
          </ng-container>

          <ng-container matColumnDef="mencion">
            <th mat-header-cell *matHeaderCellDef> Mención </th>
            <td mat-cell *matCellDef="let plan">{{ plan.nombre_mencion }}
            </td>
        </ng-container>

        <ng-container matColumnDef="gestion">
          <th mat-header-cell *matHeaderCellDef> Gestionar </th>
          <td mat-cell *matCellDef="let plan">
              <div class="d-flex flex-wrap">
                <div class="m-1">
                  <button cButton class="btn-primary" (click)="verReportePlan(plan.id_plan)" cTooltip="Ver Plan" cTooltipPlacement="top">
                    <svg cIcon name="cil-zoom"></svg>
                  </button>
                </div>
                  <div class="m-1">
                    <button cButton class="btn-primary" (click)="generarReportePlan(plan.id_plan)" cTooltip="Descargar Plan" cTooltipPlacement="top">
                        <svg cIcon name="cil-cloud-download"></svg>
                    </button>
                </div>
                </div>
                
          </td>
      </ng-container>

          <!-- Otras columnas... -->

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let plan; columns: displayedColumns;"></tr>
      </table>
      <br>
          </div>
          <div *ngIf="sinResultadosPlanes">
              <c-alert color="danger" class="d-flex align-items-center">
                  <svg cIcon class="me-2" width="24" height="24" name="cilXCircle"></svg>
                  <div>No existen planes cargados para el programa: {{ datosPrograma[0]?.nom_pro }}</div>
              </c-alert>
          </div>


      </c-card-body>
  </c-card>
</c-col>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-atom">
  <p style="color: white" align="center">Por favor espere... <br>¡Validando información!</p>
</ngx-spinner>